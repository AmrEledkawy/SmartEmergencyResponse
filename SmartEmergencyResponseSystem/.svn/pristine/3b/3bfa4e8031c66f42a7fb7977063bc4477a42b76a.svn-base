function garbage = runMission
    garbage = {};
    
    imData = imread('SF12.JPG');
    [nodes, graph, deployment] = loadNodeDataFromMapFile('SanFrancisco.map');

    GV = GroundVehicleManager(nodes);
    QC = QuadCopterManager;
    FW = FixedWingManager;
    RM = RequestManager;

    stationOptimizer = PathPlanner;
    quadcopterOptimizer = QuadrotorRoutePlanner;

    MIT = shAirConnection('',9999);
    lis = addlistener(MIT,'validDatagramReceived',@newRequest);
    garbage = [garbage, lis];
    
    missionUI(imData,nodes,RM,GV,QC,deployment,graph,stationOptimizer,quadcopterOptimizer);

    
    function newRequest(src,~)
        itemMap = {'Defibrillator',...
                   'Thermal Camera',...
                   'Mobile Camera',...
                   'Stabilizer',...
                   'Sterile Band',...
                   'Thrombolytics',...
                   'Thermal Blanket',...
                   'Carbamazepine',...
                   'Oral Airway',...
                   'Endotracheal Tube',...
                   'Mask'};
        isPickup = (src.lastValidData.pickupDropoff==2);
        RM.addRequest([src.lastValidData.longitude, src.lastValidData.latitude],...
                      ItemFactory.makeItem(itemMap{src.lastValidData.itemID}),...
                      'MIT shAir',...
                      src.lastValidData.priority,...
                      now,...
                      now,...
                      src.lastValidData.quantity,...
                      ~isPickup,...
                      isPickup);
    end
end